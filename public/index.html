<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Current-See</title>
  <link rel="stylesheet" href="/css/common.css">
  <link rel="stylesheet" href="/css/components/language-selector.css">
  <link rel="stylesheet" href="/css/solar-counter.css">
  <link rel="stylesheet" href="/css/global-solar-counter.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="wrapper">
    <!-- Contact Information Header -->
    <header class="contact-header" style="background: linear-gradient(135deg, #0057B8, #00695c); color: white; padding: 15px 0; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
      <div class="container" style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px;">
          <div style="flex: 1; min-width: 300px;">
            <h2 style="margin: 0; font-size: 1.3em; color: #FFC107;">The Current-See PBC, Inc.</h2>
            <p style="margin: 5px 0 0 0; font-size: 0.9em; opacity: 0.9;">A new global economy backed by the Sun. One Solar. One Earth. Daily.</p>
          </div>
          <div style="flex: 1; min-width: 250px; text-align: right;">
            <p style="margin: 0; font-size: 1.1em;">
              <strong>Contact:</strong> 
              <a href="mailto:hello@thecurrentsee.org" style="color: #FFC107; text-decoration: none; font-weight: bold;">hello@thecurrentsee.org</a>
            </p>
            <div style="margin-top: 8px;">
              <a href="/whitepapers.html" style="color: #FFC107; text-decoration: none; margin: 0 10px; font-size: 0.9em;">White Papers</a>
              <a href="/declaration.html" style="color: #FFC107; text-decoration: none; margin: 0 10px; font-size: 0.9em;">Declaration</a>
              <a href="/founder_note.html" style="color: #FFC107; text-decoration: none; margin: 0 10px; font-size: 0.9em;">Founder's Note</a>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Mobile-responsive styles for contact header -->
    <style>
      @media (max-width: 768px) {
        .contact-header .container div {
          flex-direction: column !important;
          text-align: center !important;
        }
        .contact-header .container div > div {
          text-align: center !important;
          min-width: auto !important;
        }
        .contact-header a {
          margin: 0 5px !important;
          font-size: 0.8em !important;
        }
      }
    </style>

    <main>
      <!-- Hero Section with Solar Ray Watermark -->
      <section class="hero-solar">
        <div class="container">
          <div class="solar-counter-header">
            <img src="/img/solar-conversion-icon.svg" alt="Solar Conversion" class="solar-app-icon" onerror="this.src='/img/solar-icon-default.svg'; this.onerror=null;">
            <div class="solar-counter-title">
              <h1>Welcome to The Current-See</h1>
              <div class="pulse-dot"></div>
            </div>
          </div>
          <p>Empowering a Planet of Billionaires with Solar Currency</p>
          <div class="cta-buttons">
            <a href="/wallet.html" class="btn-primary">My Solar</a>
            <a href="/declaration.html" class="btn-secondary">Solar Declaration</a>
            <a href="/founder_note.html" class="btn-secondary">Founder's Note</a>
            <a href="/whitepapers.html" class="btn-secondary">White Papers</a>
            <a href="/business_plan.html" class="btn-secondary">Business Plan</a>
          </div>
          
          <!-- Feature Links Box -->
          <div class="features-container" style="margin: 20px 0; max-width: 600px; background: rgba(255, 255, 255, 0.9); border-radius: 10px; padding: 20px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);">
            <h3 style="margin-top: 0; color: #0057B8; font-size: 1.5rem;">Join The Current-See Network</h3>
            
            <!-- Where We Are Going -->
            <div style="margin: 30px 0; padding: 25px; background: linear-gradient(135deg, rgba(255, 193, 7, 0.1), rgba(123, 193, 68, 0.1)); border-radius: 15px; border: 2px solid rgba(255, 193, 7, 0.3); box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
              <h2 style="color: #00695c; margin-top: 0; text-align: center; font-size: 1.8em; margin-bottom: 20px;">Where We Are Going</h2>
              
              <div style="color: #333; font-size: 16px; line-height: 1.5;">
                <p style="font-size: 1.1em; margin-bottom: 15px;">
                  We are building a universal clean energy economyâ€”where renewable generation isn't just measured but becomes prosperity everyone can access.
                </p>
                
                <p style="font-size: 1.1em; margin-bottom: 15px;">
                  <strong>Our next milestone:</strong><br>
                  Launching the <strong>generator protocol</strong>, a simple system that allows any renewable energy producerâ€”from a single rooftop to a utility-scale arrayâ€”to claim verified renewable value and distribute it directly into the hands of individuals, merchants, and communities.
                </p>
                
                <p style="font-size: 1.1em; margin-bottom: 15px;">
                  With this protocol, every kilowatt-hour produced can be turned into Solarâ€”an auditable, spendable currency that circulates in a real marketplace of goods and services.
                </p>
                
                <ul style="font-size: 1.1em; line-height: 1.5; padding-left: 20px; margin-bottom: 15px;">
                  <li>âœ… Verified renewable generation</li>
                  <li>âœ… Automatic tokenization</li>
                  <li>âœ… Transparent wealth distribution</li>
                </ul>
                
                <p style="font-size: 1.1em; margin-bottom: 15px;">
                  This is the foundation for a regenerative, shared economy where clean energy isn't a corporate asset but a universal resource.
                </p>
                
                <p style="font-size: 1.1em; margin-bottom: 20px; text-align: center;">
                  ðŸŒ¿ <em>Be part of the first network that transforms renewable power into prosperityâ€”for everyone.</em>
                </p>
                
                <div style="text-align: center;">
                  <a href="/private-network" style="display: inline-block; padding: 12px 20px; background: #00695c; color: #fff; text-decoration: none; border-radius: 6px; font-weight: bold; font-size: 16px; transition: background 0.3s ease;">Join the Waiting List</a>
                </div>
              </div>
            </div>
            
            <p style="margin-bottom: 20px; color: #444; font-size: 16px;">
              Joining is as easy as clicking the wallet link below and registering in the TC-S Wallet app.
            </p>
            
            <div class="feature-links" style="display: flex; flex-direction: column; gap: 15px;">
              <!-- Q & AI Link (Top of List) -->
              <div style="margin-bottom: 20px; padding: 20px; background: linear-gradient(135deg, rgba(123, 193, 68, 0.05), rgba(0, 87, 184, 0.05)); border-radius: 12px; border: 2px solid rgba(123, 193, 68, 0.2);">
                <a href="/qa-meaning-purpose" style="display: flex; align-items: center; text-decoration: none; transition: all 0.3s ease;">
                  <div style="background: linear-gradient(135deg, #7bc144, #0057B8); width: 50px; height: 50px; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
                    <span style="color: white; font-weight: bold; font-size: 18px;">Q&AI</span>
                  </div>
                  <div style="flex: 1;">
                    <h3 style="margin: 0 0 8px 0; color: #0057B8; font-size: 1.4em;">Q & AI - Meaning and Purpose</h3>
                    <p style="margin: 0; color: #555; font-size: 15px; font-style: italic;">"I, a human, asked the AI LLM, a machine, about the human conditionâ€¦"</p>
                  </div>
                  <span style="color: #0057B8; font-weight: bold; font-size: 20px;">â†’</span>
                </a>
              </div>
              
              <!-- Wallet Link -->
              <a href="https://cross-platform-mobile-tdfranklin101.replit.app/welcome-orientation.html" style="display: flex; align-items: center; text-decoration: none; padding: 12px; border-radius: 8px; background: linear-gradient(to right, rgba(123, 193, 68, 0.1), rgba(0, 87, 184, 0.1)); border: 1px solid rgba(123, 193, 68, 0.3); transition: all 0.3s ease;">
                <div style="background: linear-gradient(to right, #7bc144, #0057B8); width: 40px; height: 40px; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 15px;">
                  <span style="color: white; font-weight: bold;">1</span>
                </div>
                <div style="flex: 1;">
                  <h4 style="margin: 0 0 5px 0; color: #0057B8;">TC-S AI Wallet</h4>
                  <p style="margin: 0; color: #555; font-size: 14px;">Join the network and start getting SOLARs <span style="color: #0057B8;">With Identity Anything</span></p>
                </div>
                <span style="color: #0057B8; font-weight: bold;">â†’</span>
              </a>
              
              <!-- Book Link -->
              <a href="https://books2read.com/u/4jx87l" style="display: flex; align-items: center; text-decoration: none; padding: 12px; border-radius: 8px; background: linear-gradient(to right, rgba(123, 193, 68, 0.1), rgba(0, 87, 184, 0.1)); border: 1px solid rgba(123, 193, 68, 0.3); transition: all 0.3s ease;">
                <div style="background: linear-gradient(to right, #7bc144, #0057B8); width: 40px; height: 40px; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 15px;">
                  <span style="color: white; font-weight: bold;">2</span>
                </div>
                <div style="flex: 1;">
                  <h4 style="margin: 0 0 5px 0; color: #0057B8;">The Solar Standard</h4>
                  <p style="margin: 0; color: #555; font-size: 14px;">Read our book on the Currency for Abundance</p>
                </div>
                <span style="color: #0057B8; font-weight: bold;">â†’</span>
              </a>
              
              <!-- Podcast Link -->
              <a href="https://youtu.be/FUXafe7HuTg?si=N3hLi6sYOaHQGCDI" style="display: flex; align-items: center; text-decoration: none; padding: 12px; border-radius: 8px; background: linear-gradient(to right, rgba(123, 193, 68, 0.1), rgba(0, 87, 184, 0.1)); border: 1px solid rgba(123, 193, 68, 0.3); transition: all 0.3s ease;">
                <div style="background: linear-gradient(to right, #7bc144, #0057B8); width: 40px; height: 40px; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 15px;">
                  <span style="color: white; font-weight: bold;">3</span>
                </div>
                <div style="flex: 1;">
                  <h4 style="margin: 0 0 5px 0; color: #0057B8;">Podcast Discussion</h4>
                  <p style="margin: 0; color: #555; font-size: 14px;">Listen to our in-depth discussion about the Solar Standard</p>
                </div>
                <span style="color: #0057B8; font-weight: bold;">â†’</span>
              </a>
              
              <!-- AI Energy Expert Link -->
              <a href="https://energy-estimator-tdfranklin101.replit.app/" style="display: flex; align-items: center; text-decoration: none; padding: 12px; border-radius: 8px; background: linear-gradient(to right, rgba(123, 193, 68, 0.1), rgba(0, 87, 184, 0.1)); border: 1px solid rgba(123, 193, 68, 0.3); transition: all 0.3s ease;">
                <div style="background: linear-gradient(to right, #7bc144, #0057B8); width: 40px; height: 40px; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 15px;">
                  <span style="color: white; font-weight: bold;">4</span>
                </div>
                <div style="flex: 1;">
                  <h4 style="margin: 0 0 5px 0; color: #0057B8;">TC-S AI Item Energy Expert Prototype</h4>
                  <p style="margin: 0; color: #555; font-size: 14px;">Discover the energy footprint of everyday items with AI assistance</p>
                </div>
                <span style="color: #0057B8; font-weight: bold;">â†’</span>
              </a>
              
              <!-- TC-S Network Identify Anything Link -->
              <a href="https://tc-identity-sync-tdfranklin101.replit.app/" style="display: flex; align-items: center; text-decoration: none; padding: 12px; border-radius: 8px; background: linear-gradient(to right, rgba(123, 193, 68, 0.1), rgba(0, 87, 184, 0.1)); border: 1px solid rgba(123, 193, 68, 0.3); transition: all 0.3s ease;">
                <div style="background: linear-gradient(to right, #7bc144, #0057B8); width: 40px; height: 40px; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 15px;">
                  <span style="color: white; font-weight: bold;">5</span>
                </div>
                <div style="flex: 1;">
                  <h4 style="margin: 0 0 5px 0; color: #0057B8;">TC-S Network - Identify Anything AI IA</h4>
                  <p style="margin: 0; color: #555; font-size: 14px;">Advanced AI identification system for comprehensive object recognition</p>
                </div>
                <span style="color: #0057B8; font-weight: bold;">â†’</span>
              </a>
              
              <!-- TC-SVR Game Link -->
              <a href="https://pika.art/video/4be0181a-b6f5-4418-a1c6-18a18bcf7987" target="_blank" style="display: flex; align-items: center; text-decoration: none; padding: 12px; border-radius: 8px; background: linear-gradient(to right, rgba(123, 193, 68, 0.1), rgba(0, 87, 184, 0.1)); border: 1px solid rgba(123, 193, 68, 0.3); transition: all 0.3s ease;">
                <div style="background: linear-gradient(to right, #7bc144, #0057B8); width: 40px; height: 40px; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 15px;">
                  <span style="color: white; font-weight: bold;">6</span>
                </div>
                <div style="flex: 1;">
                  <h4 style="margin: 0 0 5px 0; color: #0057B8;">TC-SVR Game - Gulliver's Travels with Solar Rays</h4>
                  <p style="margin: 0; color: #555; font-size: 14px;">Coming Soon - Immersive solar-powered gaming experience</p>
                </div>
                <span style="color: #0057B8; font-weight: bold;">â†’</span>
              </a>
              
              <!-- TC-S Network Commissioning Link -->
              <a href="/private-network" style="display: flex; align-items: center; text-decoration: none; padding: 12px; border-radius: 8px; background: linear-gradient(to right, rgba(123, 193, 68, 0.1), rgba(0, 87, 184, 0.1)); border: 1px solid rgba(123, 193, 68, 0.3); transition: all 0.3s ease;">
                <div style="background: linear-gradient(to right, #7bc144, #0057B8); width: 40px; height: 40px; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 15px;">
                  <span style="color: white; font-weight: bold;">7</span>
                </div>
                <div style="flex: 1;">
                  <h4 style="margin: 0 0 5px 0; color: #0057B8;">TC-S Network Commissioning Self Service</h4>
                  <p style="margin: 0; color: #555; font-size: 14px;">Create your own branded token platform for events and venues <span style="color: #ff6600; font-weight: bold;">Join waitlist now!</span></p>
                </div>
                <span style="color: #0057B8; font-weight: bold;">â†’</span>
              </a>
              
              <!-- TC-S Identify Anyone Link -->
              <a href="https://ai-identity-sync-tdfranklin101.replit.app/" style="display: flex; align-items: center; text-decoration: none; padding: 12px; border-radius: 8px; background: linear-gradient(to right, rgba(123, 193, 68, 0.1), rgba(0, 87, 184, 0.1)); border: 1px solid rgba(123, 193, 68, 0.3); transition: all 0.3s ease;">
                <div style="background: linear-gradient(to right, #7bc144, #0057B8); width: 40px; height: 40px; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 15px;">
                  <span style="color: white; font-weight: bold;">8</span>
                </div>
                <div style="flex: 1;">
                  <h4 style="margin: 0 0 5px 0; color: #0057B8;">TC-S Identify Anyone</h4>
                  <p style="margin: 0; color: #555; font-size: 14px;">AI powered person ID app</p>
                </div>
                <span style="color: #0057B8; font-weight: bold;">â†’</span>
              </a>
              
              <!-- Cast AI Analyzer Link -->
              <a href="https://cast-ai-analyzer-tdfranklin101.replit.app/" style="display: flex; align-items: center; text-decoration: none; padding: 12px; border-radius: 8px; background: linear-gradient(to right, rgba(123, 193, 68, 0.1), rgba(0, 87, 184, 0.1)); border: 1px solid rgba(123, 193, 68, 0.3); transition: all 0.3s ease;">
                <div style="background: linear-gradient(to right, #7bc144, #0057B8); width: 40px; height: 40px; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 15px;">
                  <span style="color: white; font-weight: bold;">9</span>
                </div>
                <div style="flex: 1;">
                  <h4 style="margin: 0 0 5px 0; color: #0057B8;">TC-S Cast Anyone</h4>
                  <p style="margin: 0; color: #555; font-size: 14px;">CurrentSee your self in the movies</p>
                </div>
                <span style="color: #0057B8; font-weight: bold;">â†’</span>
              </a>
              
              <!-- Music Now Button - Kttts -->
              <button onclick="playMusic7()" style="display: flex; align-items: center; text-decoration: none; padding: 12px; border-radius: 8px; background: linear-gradient(to right, rgba(255, 140, 0, 0.1), rgba(218, 165, 32, 0.1)); border: 1px solid rgba(255, 140, 0, 0.3); transition: all 0.3s ease; cursor: pointer; width: 100%; border: none;">
                <div style="background: linear-gradient(to right, #ff8c00, #daa520); width: 40px; height: 40px; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 15px;">
                  <span style="color: white; font-weight: bold;">ðŸŽ¤</span>
                </div>
                <div style="flex: 1; text-align: left;">
                  <h4 style="margin: 0 0 5px 0; color: #ff8c00;">Music Now</h4>
                  <p style="margin: 0; color: #555; font-size: 14px;">Kttts (Bowie, Jagger, Lennon) ish</p>
                </div>
                <span style="color: #ff8c00; font-weight: bold;">â™ª</span>
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Solar Generator Section -->
      <section class="solar-generator-section">
        <div class="container">
          <h2>Solar Generator</h2>
          <p class="section-subtitle">Powered by Solar-Conversion App</p>
          <div class="solar-counter-container">
            <div class="solar-counter-header">
              <img src="/img/solar-conversion-icon.svg" alt="Solar Conversion" class="solar-app-icon" onerror="this.src='/img/solar-icon-default.svg'; this.onerror=null;">
              <div class="solar-counter-title">
                <h3>Live Solar Generation</h3>
                <div class="pulse-dot"></div>
              </div>
            </div>
            <div class="counter-row">
              <div class="counter-label">Energy Generated Since April 7, 2025:</div>
              <div id="energy-display" class="counter-value odometer-value">0.000000</div> <span class="counter-unit">MkWh</span>
            </div>
            <!-- Value Created row removed as requested -->
            <div class="counter-info" id="kwh-rate-display">
              1 Solar = 4,913 kWh (based on 1% of Earth's solar input divided among 8.5B people)
            </div>
          </div>
          <div class="view-all-button">
            <a href="/solar-generator.html" class="btn-secondary">View Full Solar Generator</a>
          </div>
        </div>
      </section>

      <!-- Members Section -->
      <section class="members-section sun-ray-watermark bg-gradient-subtle">
        <div class="container">
          <div class="content-overlay">
            <h2>Members Worldwide</h2>
            <div class="member-count" id="member-count">2</div>
            <p>Join the growing community of solar-powered individuals</p>
          </div>
        </div>
      </section>

      <!-- Global Solar Counter Section -->
      <section class="global-solar-section sun-ray-watermark bg-gradient-solar">
        <div class="container">
          <div class="content-overlay">
            <h2 class="text-center">LIVE Solar Generation</h2>
            
            <div class="global-counter-container">
              <div class="global-counter-row">
                <div class="global-counter-label">Total SOLAR Generated Since April 7, 2025:</div>
                <div class="global-counter-value"><span id="global-solar-count">0.0000</span></div>
              </div>
              
              <div class="global-counter-row">
                <div class="global-counter-label">Energy Generated:</div>
                <div class="global-counter-value"><span id="global-energy-count">0.000000</span> MkWh</div>
              </div>
              
              <!-- Value Created row removed as requested -->
              
              <div class="global-counter-info">
                1 Solar = 4,913 kWh (based on 1% of Earth's solar input divided among 8.5B people)
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Sections removed and consolidated into feature links at the top -->

      <!-- Merchandise Section -->
      <section class="merchandise-section sun-ray-watermark bg-gradient-solar">
        <div class="container">
          <div class="content-overlay">
            <h2>Merchandise</h2>
            <p>Support our mission by purchasing exclusive Current-See branded merchandise.</p>
            <div class="shop-button">
              <a href="/merch.html" class="btn-primary">Shop Now</a>
            </div>
          </div>
        </div>
      </section>

      <!-- My Solar Section -->
      <section class="my-solar-section sun-ray-watermark bg-gradient-wallet">
        <div class="container">
          <div class="content-overlay">
            <h2>My Solar</h2>
            <p>Download the TC-S Wallet app to receive daily solar distributions and track your growing solar balance.</p>
            <div class="join-today-button">
              <a href="https://cross-platform-mobile-tdfranklin101.replit.app/welcome-orientation.html" class="btn-primary">Get the Wallet</a>
            </div>
          </div>
        </div>
      </section>

      <!-- Public Members Log -->
      <section class="members-log-section bg-gradient-subtle">
        <div class="container">
          <h2>Public Members Log</h2>
          <div id="public-members-log"></div>
        </div>
      </section>
    </main>

    <!-- FOOTER_PLACEHOLDER -->
  </div>

  <!-- Mobile Menu Script -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
      const mobileNav = document.querySelector('.mobile-nav');
      
      if (mobileMenuToggle && mobileNav) {
        mobileMenuToggle.addEventListener('click', () => {
          mobileMenuToggle.classList.toggle('open');
          mobileNav.classList.toggle('mobile-nav-active');
        });
      }
    });
  </script>

  <!-- Real-Time Solar Counter Script -->
  <script src="/js/real_time_solar_counter.js"></script>
  
  <!-- Global Solar Counter Script -->
  <script src="/js/global-solar-counter.js"></script>

  <!-- Public Members Log Script -->
  <!-- Include embedded members data first so it's available to the members log script -->
  <script src="/embedded-members?v=20250511"></script>
  <script src="/js/public-members-log.js?v=20250511"></script>
  
  <!-- Voice Assistant Script -->
  <script src="/js/voice-assistant.js"></script>

  <!-- Language Translator -->
  <script src="/js/language-translator.js"></script>
  
  <!-- Join Form Submission Script -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const joinForm = document.getElementById('quick-join-form');
      const successMessage = document.getElementById('join-success-message');
      const errorMessage = document.getElementById('join-error-message');
      const errorDetails = document.getElementById('error-details');
      
      if (joinForm) {
        joinForm.addEventListener('submit', function(e) {
          e.preventDefault();
          
          // Get form data
          const nameInput = document.getElementById('join-name');
          const emailInput = document.getElementById('join-email');
          
          if (!nameInput.value || !emailInput.value) {
            showError('Please fill in all fields');
            return;
          }
          
          // Hide previous messages
          successMessage.style.display = 'none';
          errorMessage.style.display = 'none';
          
          // Prepare form data
          const formData = {
            name: nameInput.value,
            email: emailInput.value
          };
          
          // Show loading state on button
          const submitButton = joinForm.querySelector('button[type="submit"]');
          const originalButtonText = submitButton.innerHTML;
          submitButton.innerHTML = 'Processing...';
          submitButton.disabled = true;
          
          // Send API request
          fetch('/api/signup', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(formData)
          })
          .then(response => {
            if (!response.ok) {
              return response.json().then(data => {
                throw new Error(data.error || 'Registration failed');
              });
            }
            return response.json();
          })
          .then(data => {
            // Success
            showSuccess();
            joinForm.reset();
            
            // Update member count immediately
            if (data.totalMembers && typeof window.refreshMemberCount === 'function') {
              // Use the dedicated function if available
              window.refreshMemberCount();
            } else {
              // Fallback to manual update
              const memberCountElement = document.getElementById('member-count');
              if (memberCountElement && data.member) {
                // Get current count as a number
                const currentCount = parseInt(memberCountElement.textContent || '0', 10);
                // Add 1 or set to the total number if we have it
                memberCountElement.textContent = data.totalMembers || (currentCount + 1);
              }
            }
            
            // Refresh the members log after successful signup
            setTimeout(() => {
              if (typeof loadMembers === 'function') {
                loadMembers();
              } else {
                location.reload();
              }
            }, 2000);
          })
          .catch(error => {
            showError(error.message || 'Failed to join. Please try again.');
          })
          .finally(() => {
            // Reset button state
            submitButton.innerHTML = originalButtonText;
            submitButton.disabled = false;
          });
        });
      }
      
      function showSuccess() {
        successMessage.style.display = 'block';
        errorMessage.style.display = 'none';
        // Scroll to the success message
        successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
      }
      
      function showError(message) {
        errorMessage.style.display = 'block';
        successMessage.style.display = 'none';
        errorDetails.textContent = message || 'Please try again.';
        // Scroll to the error message
        errorMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
      }
    });
  </script>



  <!-- Multimodal Kid Solar Interface -->
  <div id="kid-solar-multimodal" style="position: fixed; bottom: 20px; right: 20px; z-index: 9999; display: none;">
    <div style="background: linear-gradient(135deg, #4CAF50, #81C784); border-radius: 15px; padding: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.3); color: white; max-width: 300px;">
      <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 10px;">
        <h6 style="margin: 0; font-weight: bold;">Kid Solar Multimodal</h6>
        <button onclick="closeKidSolarMultimodal()" style="background: none; border: none; color: white; font-size: 18px; cursor: pointer; padding: 0; margin-left: auto;">&times;</button>
      </div>
      
      <!-- Input Type Selector -->
      <div style="margin-bottom: 10px;">
        <div style="display: flex; gap: 5px; margin-bottom: 10px;">
          <button onclick="setKidSolarMode('photo')" id="photo-mode-btn" style="flex: 1; padding: 8px; border: none; border-radius: 8px; background: rgba(255,255,255,0.3); color: white; cursor: pointer; font-size: 12px;">ðŸ“· Photo</button>
          <button onclick="setKidSolarMode('video')" id="video-mode-btn" style="flex: 1; padding: 8px; border: none; border-radius: 8px; background: rgba(255,255,255,0.2); color: white; cursor: pointer; font-size: 12px;">ðŸŽ¥ Video</button>
          <button onclick="setKidSolarMode('text')" id="text-mode-btn" style="flex: 1; padding: 8px; border: none; border-radius: 8px; background: rgba(255,255,255,0.2); color: white; cursor: pointer; font-size: 12px;">ðŸ’¬ Chat</button>
        </div>
      </div>

      <!-- Photo Upload -->
      <div id="photo-upload-section" style="display: block;">
        <input type="file" id="kid-solar-photo" accept="image/*" style="width: 100%; padding: 8px; border: none; border-radius: 8px; margin-bottom: 10px; font-size: 12px;">
        <button onclick="analyzeKidSolarPhoto()" style="width: 100%; padding: 10px; background: rgba(255,255,255,0.9); color: #2E7D32; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">Analyze Photo</button>
      </div>

      <!-- Video Upload -->
      <div id="video-upload-section" style="display: none;">
        <input type="file" id="kid-solar-video" accept="video/*" style="width: 100%; padding: 8px; border: none; border-radius: 8px; margin-bottom: 10px; font-size: 12px;">
        <button onclick="analyzeKidSolarVideo()" style="width: 100%; padding: 10px; background: rgba(255,255,255,0.9); color: #2E7D32; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">Analyze Video</button>
      </div>

      <!-- Text Input -->
      <div id="text-input-section" style="display: none;">
        <textarea id="kid-solar-text" placeholder="Ask Kid Solar about energy..." style="width: 100%; padding: 8px; border: none; border-radius: 8px; margin-bottom: 10px; height: 60px; resize: none; font-size: 12px;"></textarea>
        <button onclick="analyzeKidSolarText()" style="width: 100%; padding: 10px; background: rgba(255,255,255,0.9); color: #2E7D32; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">Ask Kid Solar</button>
      </div>

      <!-- Loading indicator -->
      <div id="kid-solar-loading" style="display: none; text-align: center; margin-top: 10px;">
        <div style="display: inline-block; width: 20px; height: 20px; border: 3px solid rgba(255,255,255,0.3); border-radius: 50%; border-top-color: white; animation: spin 1s ease-in-out infinite;"></div>
        <p style="margin: 5px 0 0 0; font-size: 12px;">Kid Solar is thinking...</p>
      </div>
    </div>
  </div>

  <!-- D-ID AI Agent -->
  <script type="module"
        src="https://agent.d-id.com/v2/index.js"
        data-mode="fabio"
        data-client-key="YXV0aDB8Njg3NjgyNDI2M2Q2ODI4MmIwOWFiYmUzOlR2cUplanVzeWc1cjlKV2ZNV0NKaQ=="
        data-agent-id="v2_agt_vhYf_e_C"
        data-name="did-agent"
        data-description="Console Solar - Kid Solar - Your polymathic AI assistant specializing in renewable energy innovation, physics, engineering, economics, and cutting-edge sustainability solutions."
        data-monitor="true"
        data-orientation="horizontal"
        data-position="right"
        data-on-ready="initKidSolarEnhancement">
  </script>

  <!-- Kid Solar Multimodal Scripts -->
  <script>
    let kidSolarMode = 'photo';
    
    // CSS animations for loading spinner and floating button
    const style = document.createElement('style');
    style.textContent = `
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
        100% { transform: translateY(0px); }
      }
    `;
    document.head.appendChild(style);

    function initKidSolarEnhancement() {
      // Add multimodal button to D-ID interface with multiple attempts
      let attempts = 0;
      const maxAttempts = 10;
      
      function addMultimodalButton() {
        attempts++;
        console.log(`Attempting to add multimodal button (attempt ${attempts})`);
        
        // Try multiple selectors for D-ID container
        const selectors = [
          '[data-name="console-solar-agent"]',
          '.did-container',
          'iframe[src*="d-id"]',
          'div[id*="did"]',
          '.d-id-agent'
        ];
        
        let didContainer = null;
        for (const selector of selectors) {
          didContainer = document.querySelector(selector);
          if (didContainer) {
            console.log(`Found D-ID container with selector: ${selector}`);
            break;
          }
        }
        
        // Also try finding by looking for any iframe or container
        if (!didContainer) {
          const allContainers = document.querySelectorAll('div, iframe');
          for (const container of allContainers) {
            if (container.getAttribute && 
                (container.getAttribute('data-name') === 'did-agent' ||
                 container.src && container.src.includes('d-id') ||
                 container.className && container.className.includes('did'))) {
              didContainer = container;
              console.log('Found D-ID container by attribute search');
              break;
            }
          }
        }
        
        if (didContainer) {
          // Remove existing button if any
          const existingBtn = didContainer.querySelector('.kid-solar-multimodal-btn');
          if (existingBtn) existingBtn.remove();
          
          const multiModalBtn = document.createElement('button');
          multiModalBtn.innerHTML = 'ðŸ“· Photo Upload';
          multiModalBtn.className = 'kid-solar-multimodal-btn';
          multiModalBtn.style.cssText = 'position: fixed; top: 120px; right: 20px; background: #FF6B35; color: white; border: none; padding: 12px 16px; border-radius: 25px; font-size: 14px; font-weight: bold; cursor: pointer; z-index: 99999; box-shadow: 0 4px 12px rgba(0,0,0,0.3); animation: pulse 2s infinite;';
          multiModalBtn.onclick = showKidSolarMultimodal;
          
          // Add directly to body for maximum visibility
          document.body.appendChild(multiModalBtn);
          console.log('âœ… Multimodal button added successfully');
          
          // Add pulse animation
          const pulseStyle = document.createElement('style');
          pulseStyle.textContent = `
            @keyframes pulse {
              0% { transform: scale(1); }
              50% { transform: scale(1.05); }
              100% { transform: scale(1); }
            }
          `;
          document.head.appendChild(pulseStyle);
          
          return true;
        } else if (attempts < maxAttempts) {
          console.log(`D-ID container not found, retrying in 1 second (attempt ${attempts}/${maxAttempts})`);
          setTimeout(addMultimodalButton, 1000);
        } else {
          console.log('âŒ Could not find D-ID container after maximum attempts');
          // Add button anyway as fallback
          const fallbackBtn = document.createElement('button');
          fallbackBtn.innerHTML = 'ðŸ“· Kid Solar Photos';
          fallbackBtn.className = 'kid-solar-multimodal-btn';
          fallbackBtn.style.cssText = 'position: fixed; top: 120px; right: 20px; background: #FF6B35; color: white; border: none; padding: 12px 16px; border-radius: 25px; font-size: 14px; font-weight: bold; cursor: pointer; z-index: 99999; box-shadow: 0 4px 12px rgba(0,0,0,0.3);';
          fallbackBtn.onclick = showKidSolarMultimodal;
          document.body.appendChild(fallbackBtn);
          console.log('âœ… Fallback multimodal button added');
        }
      }
      
      // Start attempting to add button
      setTimeout(addMultimodalButton, 1000);
    }

    function showKidSolarMultimodal() {
      document.getElementById('kid-solar-multimodal').style.display = 'block';
    }

    function closeKidSolarMultimodal() {
      document.getElementById('kid-solar-multimodal').style.display = 'none';
    }

    function setKidSolarMode(mode) {
      kidSolarMode = mode;
      
      // Update button styles
      ['photo', 'video', 'text'].forEach(m => {
        const btn = document.getElementById(m + '-mode-btn');
        btn.style.background = m === mode ? 'rgba(255,255,255,0.3)' : 'rgba(255,255,255,0.2)';
      });
      
      // Show/hide sections
      document.getElementById('photo-upload-section').style.display = mode === 'photo' ? 'block' : 'none';
      document.getElementById('video-upload-section').style.display = mode === 'video' ? 'block' : 'none';
      document.getElementById('text-input-section').style.display = mode === 'text' ? 'block' : 'none';
    }

    async function analyzeKidSolarPhoto() {
      const fileInput = document.getElementById('kid-solar-photo');
      const file = fileInput.files[0];
      
      if (!file) {
        alert('Please select a photo first!');
        return;
      }

      showKidSolarLoading(true);
      
      try {
        const formData = new FormData();
        formData.append('file', file);
        formData.append('type', 'photo');
        
        const response = await fetch('/api/kid-solar-analysis', {
          method: 'POST',
          body: formData
        });
        
        const result = await response.json();
        speakToKidSolar(result.analysis);
        
      } catch (error) {
        console.error('Kid Solar photo analysis error:', error);
        speakToKidSolar("I had trouble analyzing that photo, but I can see you're interested in learning about energy! Try asking me a question instead.");
      } finally {
        showKidSolarLoading(false);
      }
    }

    async function analyzeKidSolarVideo() {
      const fileInput = document.getElementById('kid-solar-video');
      const file = fileInput.files[0];
      
      if (!file) {
        alert('Please select a video first!');
        return;
      }

      showKidSolarLoading(true);
      
      try {
        const formData = new FormData();
        formData.append('file', file);
        formData.append('type', 'video');
        
        const response = await fetch('/api/kid-solar-analysis', {
          method: 'POST',
          body: formData
        });
        
        const result = await response.json();
        speakToKidSolar(result.analysis);
        
      } catch (error) {
        console.error('Kid Solar video analysis error:', error);
        speakToKidSolar("I had trouble analyzing that video, but I love that you're exploring energy topics! What would you like to learn about?");
      } finally {
        showKidSolarLoading(false);
      }
    }

    async function analyzeKidSolarText() {
      const textInput = document.getElementById('kid-solar-text');
      const query = textInput.value.trim();
      
      if (!query) {
        alert('Please type a question first!');
        return;
      }

      showKidSolarLoading(true);
      
      try {
        const response = await fetch('/api/kid-solar-analysis', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            type: 'text',
            query: query
          })
        });
        
        const result = await response.json();
        speakToKidSolar(result.analysis);
        textInput.value = '';
        
      } catch (error) {
        console.error('Kid Solar text analysis error:', error);
        speakToKidSolar("Great question! I love talking about energy and solar power. Solar energy comes from the sun and helps power our world in amazing ways!");
      } finally {
        showKidSolarLoading(false);
      }
    }

    function speakToKidSolar(message) {
      // Send message to D-ID agent
      const didAgent = window.didAgent || window.D_ID?.getAgent?.('did-agent');
      if (didAgent && didAgent.speak) {
        didAgent.speak({ 
          text: `Hi! I'm Kid Solar! ${message}`, 
          audio: true 
        });
      }
      
      // Also send to chat if available
      const event = new CustomEvent('kid-solar-message', { 
        detail: { message: message } 
      });
      document.dispatchEvent(event);
      
      // Close multimodal interface
      setTimeout(() => {
        closeKidSolarMultimodal();
      }, 1000);
    }

    function showKidSolarLoading(show) {
      document.getElementById('kid-solar-loading').style.display = show ? 'block' : 'none';
    }

    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', () => {
      setKidSolarMode('photo');
    });
    
    // Music player functionality
    let currentAudio = null;
    
    function stopCurrentAudio() {
      if (currentAudio) {
        currentAudio.pause();
        currentAudio = null;
      }
    }
    
    function playMusic7() {
      const musicUrl = 'https://storage.aisongmaker.io/audio/675d577c-5ab9-45c9-b9d5-d4362f6bcc12.mp3';
      
      stopCurrentAudio();
      
      // Create and play new audio
      currentAudio = new Audio(musicUrl);
      currentAudio.play().then(() => {
        console.log('ðŸŽ¤ Playing: Kttts (Bowie, Jagger, Lennon) ish');
      }).catch(error => {
        console.error('Audio playback failed:', error);
        alert('Unable to play music. Please check your internet connection.');
      });
      
      // Reset when finished
      currentAudio.addEventListener('ended', () => {
        currentAudio = null;
      });
    }
  </script>
</body>
</html>