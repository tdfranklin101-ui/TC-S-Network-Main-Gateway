<script src="/solar_counter.js"></script>
<script src="/js/public-members-log.js"></script>
<script>
    // Fetch member count from API
    document.addEventListener('DOMContentLoaded', function() {
        fetchMemberCount();
    });
    
    async function fetchMemberCount() {
        try {
            const response = await fetch('/api/member-count');
            const data = await response.json();
            
            // Update member counter with actual count
            const memberCountElement = document.getElementById('member-counter');
            if (memberCountElement) {
                memberCountElement.textContent = data.count.toLocaleString();
                
                // Add animation effect
                memberCountElement.classList.add('counter-highlight');
                setTimeout(() => {
                    memberCountElement.classList.remove('counter-highlight');
                }, 1500);
            }
        } catch (error) {
            console.error('Error fetching member count:', error);
            // Fallback if there's an error
            const memberCountElement = document.getElementById('member-counter');
            if (memberCountElement) {
                memberCountElement.textContent = 'Join Today!';
            }
        }
    }
</script>